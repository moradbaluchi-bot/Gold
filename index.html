<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<title>تحلیل طلای آب‌شده</title>
<style>
body{font-family:tahoma;background:#f2f2f2;padding:20px}
.box{background:#fff;padding:15px;border-radius:10px}
.green{color:green;font-weight:bold}
.red{color:red;font-weight:bold}
</style>
</head>
<body>

<div class="box">
<h3>وضعیت بازار طلای آب‌شده</h3>
<p>اونس جهانی: <span id="ounce">---</span></p>
<p>دلار (IRR): <span id="usd">---</span></p>
<p>نتیجه: <span id="result">---</span></p>
</div>

<script>
async function loadData(){
  try{
    // اونس از Yahoo Finance
    const ounceRes = await fetch("https://query1.finance.yahoo.com/v8/finance/chart/GC=F");
    const ounceData = await ounceRes.json();
    const ounce = ounceData.chart.result[0].meta.regularMarketPrice;

    // دلار از frankfurter.app
    const usdRes = await fetch("https://api.frankfurter.app/latest?from=USD&to=IRR");
    const usdData = await usdRes.json();
    const usd = usdData.rates.IRR;

    document.getElementById("ounce").innerText = ounce.toFixed(2);
    document.getElementById("usd").innerText = usd.toFixed(0);
    document.getElementById("result").innerText = "داده واقعی دریافت شد";

  }catch(e){
    document.getElementById("result").innerText = "باز هم نشد، اینترنت یا API بسته است";
  }
}
loadData();
</script>

</body>
</html>
    document.getElementById("ounce").innerText = ounce.toFixed(2);
    document.getElementById("usd").innerText = usd.toFixed(0);
    document.getElementById("mazaneh").innerText = mazaneh.toFixed(0);

    document.getElementById("result").innerText = "داده واقعی دریافت شد";
  }catch(e){
    document.getElementById("result").innerText = "دریافت داده ناموفق";
  }
}

loadData();
</script>

</body>
</html>
